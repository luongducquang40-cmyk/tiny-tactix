<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>BrowserQuest Mini Demo</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;background:#222;color:white;font-family:monospace}
#ui{position:fixed;bottom:10px;left:10px}
canvas{display:block;margin:auto;background:#111}
</style>
</head>
<body>

<canvas id="game" width="320" height="240"></canvas>
<div id="ui">Weapon: None | HP: <span id="hp">5</span></div>

<script>
/* ===== BASIC SETUP ===== */
const c=document.getElementById("game");
const ctx=c.getContext("2d");
const tile=32;
let hp=5,weapon=null;

/* ===== MAP ===== */
const map=[
 [1,1,1,1,1,1,1,1,1,1],
 [1,0,0,0,0,0,0,2,0,1],
 [1,0,0,0,0,0,0,0,0,1],
 [1,0,0,3,0,0,0,0,0,1],
 [1,1,1,1,1,1,1,1,1,1]
];
// 0=ground,1=wall,2=sword,3=potion

const player={x:1,y:1};

/* ===== DRAW ===== */
function draw(){
 ctx.clearRect(0,0,c.width,c.height);
 for(let y=0;y<map.length;y++)
  for(let x=0;x<map[0].length;x++){
   if(map[y][x]==1){ctx.fillStyle="#555";}
   else ctx.fillStyle="#333";
   ctx.fillRect(x*tile,y*tile,tile,tile);

   if(map[y][x]==2){
    ctx.fillStyle="gold";
    ctx.fillRect(x*tile+10,y*tile+10,12,12);
   }
   if(map[y][x]==3){
    ctx.fillStyle="red";
    ctx.fillRect(x*tile+10,y*tile+10,12,12);
   }
 }
 ctx.fillStyle="cyan";
 ctx.fillRect(player.x*tile+6,player.y*tile+6,20,20);
}

/* ===== MOVE & ITEM ===== */
function move(dx,dy){
 const nx=player.x+dx,ny=player.y+dy;
 if(map[ny][nx]==1)return;
 if(map[ny][nx]==2){
  weapon="Sword";
  map[ny][nx]=0;
 }
 if(map[ny][nx]==3){
  hp=Math.min(5,hp+2);
  map[ny][nx]=0;
 }
 player.x=nx;player.y=ny;
 updateUI();
}

/* ===== INPUT ===== */
window.addEventListener("keydown",e=>{
 if(e.key=="ArrowUp")move(0,-1);
 if(e.key=="ArrowDown")move(0,1);
 if(e.key=="ArrowLeft")move(-1,0);
 if(e.key=="ArrowRight")move(1,0);
});

/* ===== UI ===== */
function updateUI(){
 document.getElementById("ui").innerText=
  "Weapon: "+(weapon||"None")+" | HP: "+hp;
}

/* ===== LOOP ===== */
function loop(){draw();requestAnimationFrame(loop);}
updateUI();loop();
</script>

</body>
</html>
